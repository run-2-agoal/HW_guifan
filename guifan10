2.没有对应的开孔率，插值获得。
3.如有测试数据，拟合阻尼系数。
Source	构造压力、速度和热源源项	Location	几何尺寸和位置正确
		Source	High Side和Low Side设置正确，面源相邻网格上。
Heatsink	构造散热器实体	Detailed模型
		Location	确保散热器基板底面和器件表面接触	 

		Construction	Plate Fin散热器
 
Pin Fin散热器
 
翅片间保证至少2个网格
		Material	1.按照实际材料属性设置其导热系数和表面特性
2.无确切资料时必需调用材料库数据
3.翅片表面波纹要用表面粗糙度描述
4.自然散热分析时需设置表面发射率	表面发射率一般取0.7-0.8
		Radiation	1.自然散热分析时需设置辐射选项
2.辐射精度选择单精度Single	Minimum Area Considered取
10～100mm2
		Compact模型
		Location	确保散热器基板底面和器件表面接触	
		Construction	Plate Fin散热器，同detailed模型
Pin Fin散热器，同detailed模型
翅片之间的网格保持为默认值2	
		Material	1.按照实际材料属性设置其导热系数
2.无确切资料时必需调用材料库数据	Compact模型经验公式是强迫风冷、充分发展湍流下拟合的，最大误差
约20％
PCB	电路板本体	Location	PCB板的尺寸和位置正确	PCB板必须有厚度，否则在计算时是De-activate的。
		Construction	1.PCB板的材料按照实际情况设置。
2.一般情况下，导体材料为Pure Copper，基材为FR4，导热系数分别为396和0.3W/mK
3.体积含铜量未知时，取7％-15％	射频单板材料一般是RO4350，导热系数为0.62W/mK
		Radiation	Minimum Area Considered取100mm2	自然散热且PCB面积较大时选择该项
Component	电路板器件	Location	芯片的位置正确	芯片不能超出PCB板Bounding Box
		Construction	1.芯片功耗（Power）
2.芯片位置和尺寸（Position & Size）
3.设置为独立器件：Discrete－Solid Component
4.热阻信息未知时，必须设置器件实际材料属性（材料库包含了FT公司的经验数据）
热阻信息已知时，按照实际热阻值设定，同时设置芯片材料导热系数为1000W/mK	
Sloping Block	倾斜的实体结构	同Solid Block，定义准确倾斜的角度。
Enclosure	构造壳体、箱体、机柜机架等实体	Location	几何尺寸和位置和实物一致	可以按照传热原理修改几何尺寸
		Construction	自然散热分析时，Modeling Level设置为Thick	强迫风冷时，安装有主要发热器件的表面同样需要设置为Thick
		Material	按照实际材料属性设置其导热系数和表面特性	
		Thermal	附加物体实际的发热量	
		Radiation	Minimum Area Considered取100mm2，尺寸较小时取10 mm2
辐射精度选择单精度－Single	自然散热时，面积较大实体需要设置
Cylinder	构造圆柱体
圆环柱体、圆台体等	基本要求同Solid Block
		设置圆柱表面数量，一般选择12面。
Hole	描述孔洞、出口和Solid中不同材料的部分	Location	孔的位置和尺寸正确	只能构造通孔。
		Construction	设置孔的尺寸、形状和阻尼	Hole中设置阻尼和附加Resistance的效果一样。
Fan	1.风扇实体建模
2.构造PQ特征实体
3.自由空间定风量分析	Location	确保风扇位置正确
		Construction	 
1.Free Area Ratio必须设置为1
2.Modeling Level选“3D，8Facets”
3.选择Failed进行风扇失效分析时；不能把风扇De-activate
4.Power选择On，根据风扇的工作点设置功耗；如果资料不全，设置最大功耗。
5.轴流风扇在入风口时，必须选择Swirl，按风扇资料输入转速；
6.关键芯片靠近风扇时，必须选择Swirl；
7.风扇工作点压力较高时，必须选择Swirl；
		Resistance	单风扇失效时需设置
Recirculation	构造加热、制冷模块、热交换器、温控设备、离心风扇等。	Location	该组件的位置正确	
		Construction	1.流量特性
2.换热特性
3.进出口设置（位置、大小和流向）	Extract：外部流体进口
Supply：内部流体出口
Fixed Flow	1.求解域边界上
2.Enclosure中具有厚度
的壁面上
3.非压缩的立方块表面
4.不能放置自由空间中	Location	确保组件位置正确
		Construction	 
如果设置了太阳辐射，必须开启选项Transparent To Solar Radiation
Compact Component	电路板器件	Location	芯片位置和尺寸正确，与PCB板贴付在一起，不重叠。	
		Construction	1.Package Type
有Lead的器件选择Peripheral，其它的均选择Area Array
2.Model Type
一般选择2-Resistor Model
3.Thickness
Top Layer中填入芯片Case的厚度
Middle和Bottom Layer之和为Junction到PCB的距离。（只有TOP和Bottom的器件，总厚度按照1：2分配）
4.Network
根据器件资料输入结壳热阻和结板热阻。	厚度的分配对Tcase的影响较大。
Perforated Plate	构造孔板、具有规则的孔隙实体或波导板等	Location	孔板的位置正确	
		Construction	1.Size
Xo和Yo需要设置，Thickness可不用设置。
2.Plate Spec
指定孔的形状、大小和间距以计算开孔率。
3.Resistance Model
设置为自动计算Automatic
4.Straighten Flow
用于特殊情况下的矫流模拟，如波导板。	如果是模拟机柜门等的阻尼，使用Resistance，不使用Perforated Plate
Network Assembly	构造热阻容模型	设定热阻网络和网络节点，见双热阻Network模板： 

Heat Pipe	构造热管	设置Effective Thermal Resistance和Maximum Heat Flow，需要由供应商确认。信息不足时立方块热管建模方法，见O2.6.3.3。
	适用范围:  FT基本组件建模

	 
2.6.2 串联风扇建模
R2.6.2.1: 串联风扇有间隔距离和无间隔距离的建模方法如下。
1、无间隔距离
方法1：两个串联风扇无间隔距离时，仿真时不能把两个风扇贴在一起，必须分开，再给定单个风扇的PQ曲线。
方法2：测试串联风扇的实际PQ曲线，再用一个风扇模拟（其厚度等于两个风扇之和）。
2、有间隔距离
方法1：使用两个风扇模拟，间隔距离和实际距离相同，每个风扇设置单个风扇的PQ。
方法2：测试串联风扇的实际PQ曲线，再用一个风扇模拟（其厚度等于两个风扇加上间隔距离）。
适用范围:  串联风扇建模
2.6.3  Vaper Chamber 散热器建模
O 2.6.3.1: Vaper Chamber 仿真建模：
 
	Vaper Chamber层建模导热模型
（1）VC建模采用分层建模方法，如图5所示。
（2）VC外壳导热系数根据采用的材料进行设置，纯铜为385W/mK，合金铜为250W/mK。
（3）wick涉及到工质的流动与相变，其等效导热系数与热流密度强相关。通常情况下热流密度越大，wick等效导热系数越大。推荐设置为55W/mK，以此值输入模型进行仿真评估，后续再根据实测进行回归修正。
（4）蒸汽导热系数：蒸汽导热系数推荐使用20000W/mK。
（5）壁面的厚度、wick的厚度、蒸汽腔等高度参考《VC内部设计选型表》
通常情况下，VC都带有凸台，在Flotherm中，其建模方法如下图所示，分为三个步骤：
（a）先用Cuboid建出VC的外壳，根据外壳材质赋值其导热系数，
（b）再用Cuboid建出VC的wick，部分覆盖外壳并留出外壳壁厚，赋值wick的导热系数，
（c）最后用Cuboid建出VC的蒸汽腔，部分覆盖wick并留出wick厚度，赋值蒸汽腔的导热系数。
注意：
1.建模顺序为外壳-wick-蒸汽腔，后者覆盖前者，不能错乱。
2.建模模型中去掉冷凝侧的wick层，减少Flotherm网格量，缩短计算时间。
 
 
含凸台VC建模方法
适用范围:  Vapor Chamber 散热器建模
2.6.4 热管散热器、热管建模
 O2.6.4.1: 热管散热器分为散热器本体和热管两部分，模型结构如下图所示：
 
	热管模型结构图
    热管内嵌在散热器基板里面，所以热管散热器模型必须符合上图要求。
    注释：以上热管散热器建模属于理想模型，实际生产热管和散热器之间焊接存在接触热阻，实际效果要根据测试进行修正。
O2.6.4.2: 热管建模，设置Effective Thermal Resistance和Maximum Heat Flow，需要和供应商确认。
O2.6.4.3: 当热管内部wick等信息不足采用长方体建模，如下处理方式：
（1）热管采用分层建模方法。采用Cuboid建立热管，外壳根据材质设置导热系数，纯铜设置为385W/m.K，wick导热系数设置为55W/m.K，通过调整蒸汽腔导热系数实现蒸发段与冷凝段温差小于5℃。
 
热管分层建模模型
（2）直角折弯时，也采用分层建模，如下图所示，用Cuboid建立A和B两个相互垂直热管模型，保证A和B两部分的蒸汽腔和wick分别连通。外壳导热系数设置为385W/m.K，wick导热系数设置为55W/m.K，调整蒸汽腔导热系数实现蒸发段与冷凝段温差小于5℃。
  
（3）非直角折弯时，如下图处理：
 
其中 为折弯角度。取BC的中点F，建模的时候将ABC用ADEC代替，然后按照直角折弯情况进行设置。
适用范围:  热管散热器、热管建模
热管建模，设置Effective Thermal Resistance和Maximum Heat Flow，需要和供应商确认。
2.6.5 POL电源模块建模
适用范围：POL模块的详细仿真模型，该模型的仿真偏差在10%以内。
 
	POL电源模块结构图
    目前我司的POL模块分以上两类，上面一类是ASAC/ASAD，下面一类是ASAA/ASAB，分别对应两个不同的FT仿真模型。
ASAA/ASAB的模型结构数如下图所示：
  
	POL电源模块ASAA/ASAB模型图
   


 ASAC/ASAD的模型结构数如下图所示：
  
	POL电源模块ASAC/ASAD模型图
R2.6.5.1:采用此详细模型仿真POL模块，需要电源专家提供如下的功耗列表：
POL电源模块功耗表
序号	POL类型	额定输出电流	电压(V)	需求输出电流	输出功率	HS1	LS1	HS2	LS2	L1	L2	IC	TOTAL
1	PW22ASAA 	10A	1.5	6.47	9.705	0.5	0.20 			0.20 		0.20 	1.10 
2	PW22ASAD	40A	1.2	32	38.4	0.6	0.90 	0.6	0.90 	0.50 	0.50 	0.40 	4.50 
3	PW22ASAD	40A	1.2	32	38.4	0.6	0.90 	0.6	0.90 	0.50 	0.50 	0.40 	4.50 
4	PW22ASAB 	30A	1.0	15.2	15.2	0.4	0.80 			0.60 		0.40 	2.20 
R2.6.5.2:对于ASAA/ASAB类型的模块，R462<—>HS1，R158<—>LS1，L<—>L1
R2.6.5.3:对于ASAC/ASAD类型的模块，R462<—>HS1/HS2，R158<—>LS1/LS2，L<—>L1/L2
R2.6.5.4:均布热量ave的功耗保持不变，设定为0.2W，这是一个恒定值。
R2.6.5.5:详细模型中个器件的物性参数不在规范中赘述，直接调用模型库中的部件模型进行仿真分析。
2.6.6 电路板表面铺铜、热过孔、铜基板建模
R2.6.6.1:  电路板表面铺铜、热过孔、铜基板
电路板表面铺铜、热过孔、铜基板建模规范
组件	基本单元	规范化要求	备注
电路板本体建模方法1	PCB
Smartpart	用地层和电源层的铜体积来计算PCB体积含铜量，信号层的铜体积不包含在内。
缺省时，单层地层厚度和电源层厚度按35μm计算。
当分析模型区域较小或芯片级仿真时，可按PCB层的实际情况建立详细模型。
其余规范化要求如上表。	FR4普通铺铜板，缺省内层铜箔厚度为1oz（35um）、
外层铜箔厚度为0.5oz（17um）；
电路板本体建模方法2	Cuboid	材料特性设置为各向异性；
PCB平面方向的导热系数Kp按公式（1）计算，简化计算时可只考虑地层和电源层分项；
PCB法向方向的导热系数Kn按公式（2）计算，简化计算时可不考虑地层、电源层和信号层分项；
其余要求见Cuboid的要求。	
表面铺铜的建模方法1	Cuboid	按照表面铺铜区域的实际大小和厚度直接在PCB上加一层薄的铜层；
必须用Cuboid建模，不能用Collapsed Cuboid建模；
其余要求见Cuboid的要求。	表面上的铺铜厚度缺省值为1oz（35um）
表面铺铜的建模方法2	PCB	用与表面铺铜大小相同、与PCB本体相同的PCB来模拟表面铺铜层，以利于提高模型网格质量；
PCB含铜量设为95％～99％；
其余规范化要求如上表。	对于热流密度很大器件（如小功放管）下表面的铺铜层可采用此方法
热过孔建模方法1	Cuboid	按照传导截面积相同的原则，把有厚度的圆孔等效为有厚度的方孔，圆孔和方孔的孔壁镀铜厚度相同。方孔边长按照公式（3）确定。
按照实际圆过孔的位置将方孔叠加到PCB本体上。
其余要求见Cuboid的要求。	典型过孔的直径为13mil（0.33mm），孔壁镀铜厚度为1.4mil（35um），热过孔边缘的间距介于0.5～2mm

方法一主要是用于分析模型区域较小或芯片级仿真；
系统和单板级仿真中建议用方法二。
热过孔建模方法2	Cuboid	把一定区域内的过孔和PCB本体共同等效为各项异性的Cuboid。然后覆盖在整体PCB本体模型上。
材料特性设置为各向异性，其中平面法向导热系数较大；
Cuboid平面方向的导热系数Kp等于PCB本体的Kp；
Cuboid法向方向的导热系数Kn按公式（4）计算；
其余要求见Cuboid的要求。	
                                                          （1）
                                                           （2）
其中：L为PCB的总厚度； 为PCB各层的厚度； 为PCB各层相应方向的导热系数。
信号层的综合导热系数根据该层铜皮覆盖率按下表取值：
单板信号层导热系数与铜皮覆盖率关系表
信号层铜皮覆盖率	Kn   W/(m*K)	Kp   W/(m*K)
10%	40	0.33
20%	80	0.37
30%	119	0.43
40%	159	0.5
50%	238	0.75
其中： 为热过孔的外径， 为热过孔的孔壁镀铜厚度。
                             （3）
其中： 是铜的导热系数； 是热过孔壁面铺铜沿PCB法向的截面积； 是含热过孔的局部PCB面积； 是PCB本体法向的导热系数；N为PCB局部面积内热过孔数量。
 适用范围: 电路板表面铺铜、热过孔、铜基板建模
2.6.7 TEC建模方法
R2.6.7.1:TEC建模采用FT自带的标准化模型，具体见下图所示：
  
R2.6.7.2:设置TEC的物理尺寸，具体大小可以根据供应商提供的图纸，参数设置见下图：
 
R2.6.7.3:设置工作电流，具体大小可以根据实际使用中的温差、制冷功率来确定，参数设置见下图：
 
R2.6.7.4:设置陶瓷基板特性，本步骤是设置陶瓷基板的厚度和导热系数，具体参数根据供应商提供的数据为准，参数设置见下图：
 
R2.6.7.5:设置TEC制冷特性，通常TEC厂家会提供TEC热面在不同温度时的一个制冷特性，FT会要求输入两个特定温度状况下TEC的最大制冷量Qmax、最大制冷温差Delta Tmax、最大工作电流Imax、最大工作电压Vmax，具体设置见下图；
  
注意：在设置TEC制冷特性时，要先要预估的TEC可能工作的热面温度，该工作温度一定要介于设置的特定温度之间，（比如，我们预计TEC工作时的热面温度可能在50℃，那么我们在设置TEC制冷特性的温度（Hot Side）点就必须是一个大于50℃，一个小于50℃）；通常TEC厂家会根据制程水平的差异，给出一个参数范围，在建模时建议采用平均值来设置（比如上图上厂家提供的参数中，TEC在热面温度27℃时，Qmax在1.3~1.7W之间，那么我们取值就取1.5即可）；
适用范围:  TEC模型

FT网格划分及收敛规范要求
2.7.1: FT网格划分规范化要求
R2.7.1.1: 网格纵横比<50
R2.7.1.2: 网格过渡比<10
R2.7.1.3: 系统关键部位（温度、速度、压力变化大的区域）网格有明显细化和过渡
R2.7.1.4: 局域化网格无重叠
R2.7.1.5: 最小网格必须反映真实的物理场特征
R2.7.1.6: 散热器翅片间至少2个网格
R2.7.1.7: 散热器沿流方向网格的最大距离小于散热器沿流长度的1/20
R2.7.1.8: 使用Region对Cylinder加密，Region与Cylinder之间隔开一定的距离（周向约20％直径，轴向约20％高度），保持与局部网格至少2倍的过渡
R2.7.1.9: Fan与局部网格间一般2倍的过渡
O2.7.1.10: Sloping Block与局部网格一般2倍的过渡，如果倾角小于10o，至少3倍
R2.7.1.11: 两个固体表面间至少存在2个网格
适用范围:  FT模型网格划分
2.7.2: FT收敛标准
    计算结束后，根据压力、温度、速度的残差以及监控点曲线，进行收敛判断。
R2.7.2.1: 监控点温度曲线趋于稳定。连续50步迭代内，监控点温度变化小于1℃，可认为监控点曲线趋于稳定，反之则没有趋于稳定。
O2.7.2.2: 建议残差至少小于50。残差波动，检视网格依赖性，扩大求解域，加密网格，可改善残差曲线波动。
适用范围: 收敛判定
LTS仿真建模指导
LTS仿真建模中分为四部分，包括蒸发器、冷凝器、蒸气管路和冷凝管路建模。
蒸发器建模
O2.8.1.1：蒸发器建模包括壳体建模、沸腾区域建模、蒸气腔建模、冷凝区域建模。模型的位置关系见下图。
 
	蒸发器基板模型
O 2.8.1.2：壳体建模根据项目需求可选择铜材质或铝材质。其中，下基板厚度取值2mm，上基板厚度取1mm。
O2.8.1.3：在蒸发器基板模型上增加腔体模型，其厚度推荐在6-7mm，若散热功耗在500W及以上时，推荐腔体厚度为8-10mm，蒸气腔的导热系数赋值为20000W/mK。
O2.8.1.4：沸腾区域模型是在蒸发器基板模型中增加的一个wick模型，用于实现蒸发器的过热度。仿真中设计wick模型的厚度为0.5mm，导热系数设置则需按照实验测试获得的过热度结果去赋值，下表给出了过热度与热流密度的关系。具体操作步骤为
1）计算蒸发器下基板面的局部最大热流密度，局部热流取值方法如下：根据die内部各core的大小分别建立region，将各个region区域沿高度方向上拉伸至TIM层上方（即region与蒸发器下基板重合），仿真读取region与蒸发器下基板接触面对应的传热量，再以该传热量除以core的大小得到蒸发器下基板处的局部最大热流密度。
 
2）结合计算结果，根据表格选出对应的过热度，若表中未体现，可按照线性关系推导。
3）wick导热系数赋值，推荐初始取40-50W/m·K。
4）若仿真计算过热度与表中给出的数据近似，则认为导热系数赋值准确，否则进行重新迭代，直至计算结果满足需求。
 
	过热度与热流密度关系
O2.8.1.5：蒸发器过热度是指蒸发器下基板面（与TIM接触面）的最高温度与蒸发器出口的蒸气温度的差值，其中蒸气温度监控点的取值位置在蒸气管路模型上，并距离蒸发器0.1mm处的高度。
O2.8.1.6：冷凝区域模型是在蒸发器模型中增加一个冷凝模型，用于模拟蒸发器腔内蒸气冷凝产生的温差。该模型的厚度为0.5mm，导热系数赋值为55W/mK。
O2.8.1.7：蒸发器上方翅片建模根据实际边界尺寸进行建模。
冷凝器建模
O2.8.2.1：冷凝器包括冷凝器基板和冷凝器翅片。基板建模包括壳体建模、冷凝腔建模、集气腔建模、集液腔建模。冷凝器基板的模型大致分为两类：中间进出式模型和两侧进出式模型。基板模型见下图，中间进出式模型的冷凝器集气腔和集液腔重合，因此不需要对集液腔建模。
 
	中间进出式模型

 
	两侧进出式模型
 
	冷凝器基板模型俯视图
O2.8.2.2：集气腔与集液腔分别对应冷凝器的进出口，集气腔是蒸气通道，集液腔是液体通道。在厚度（高度）上通常定为8-10mm，在宽度（水平）方向上，集气腔宽度8-10mm，集液腔宽度6-8mm，深度尺寸可按照冷凝器尺寸边界给出。集气腔和集液腔导热系数赋值上推荐设置为30000W/mK。
O2.8.2.3：冷凝器壳体的厚度（高度）方向推荐为8mm，上下壳体的厚度推荐为1mm，即冷凝腔为6mm，深度尺寸可按照冷凝器尺寸边界减10mm（单边各预留5mm的焊接边）。材质推荐选用铝材质降低减重，次选铜材质。在模型中冷凝器壳体与集气腔和集液腔是不相连的，保证热量全部从集气腔进入冷凝腔，再由冷凝腔将热量导向冷凝器壳体。
O2.8.2.4：冷凝腔的厚度为6mm，宽度尺寸按照冷凝器尺寸边界减去集气腔与集液腔宽度给出，深度尺寸与冷凝器壳体相同（见图14）。冷凝腔的参数设置包含两部分，即导热系数的赋值和内部面热阻的赋值。赋值的操作步骤分为以下几部分：
1）根据尺寸设计冷凝腔流道，计算出冷凝内表面积A；
2）初始赋值导热系数3000W/mK，面热阻0.0005Km2/W，并进行计算；
3）确定冷凝器入口温度Tin和冷凝器基板平均温度Tp，Tin与Tp的差值定义为冷凝温差ΔT，同时读出进入冷凝器的热量Q；
4）假定实际散热器中冷凝器的冷凝对流换热系数为800W/m2K，根据仿真读出的热量Q和计算的冷凝内表面积A，参考下面冷凝温差计算工具，可计算出推算的冷凝温差ΔTcal；
5）将ΔT与ΔTcal进行比较，若ΔT-ΔTcal≤2℃说明仿真结果较合理，结束该流程，否则需要进行步骤6；
6）可通过降低面热阻和增加冷凝腔导热系数进行迭代计算，直至ΔT-ΔTcal≤2℃，结束迭代。
 

 
	冷凝腔赋值面板
O2.8.2.5：冷凝温差指的是冷凝器入口温度与冷凝器基板平均温度的差值。冷凝器入口温度监控点设置在蒸气管路模型上，距离冷凝器基板模型0.1mm；冷凝器基板平均温度是读取冷凝器壳体模型且与翅片接触面的平均温度，可在后处理结果中的Cuboid fluxes中的Mean S-S surface temperature中读取。
O2.8.2.6：冷凝器主要包括两种结构形式，即管翅式冷凝器与平板式冷凝器。管翅式冷凝器由集气管、集液管以及两者之间多根并联的冷凝管组成，平板式冷凝器由上下盖板、扣Fin组成，扣Fin将平板内腔体分为集气腔、集液腔和冷凝腔。冷凝换热系数取决于冷凝热流密度，即随着冷凝热流密度的增大，冷凝换热能力下降，冷凝热流密度通过冷凝器冷凝功耗与冷凝腔内表面积之比计算得到。实测在相同冷凝热流密度1W/cm2时，管翅式冷凝对流换热系数约为1400W/m2K，而平板式冷凝对流换热系数约为800W/m2K。实际在相同的体积下设计时，平板式冷凝器的冷凝面积远大于管翅式，即平板式冷凝器的冷凝热流密度会小于管翅式冷凝器的冷凝热流密度。实测在相同的冷凝温差下，平板式冷凝器的体积约为管翅式冷凝器的50%，因此，推荐使用平板式冷凝器进行仿真。
  
（a）管翅式冷凝器结构                  （b）平板式冷凝器结构
不同冷凝器形式
 
不同冷凝器结构的冷凝换热系数与冷凝热流密度的关系
管路建模
O2.8.3.1：蒸气管路建模可不用对管壁建模。
O2.8.3.2：当实际散热器的蒸气管路需要折弯时，推荐折弯半径为2倍的管路直径，因空间限制折弯半径可适当调小，但不得小于1.5倍的管路直径。
O2.8.3.3：蒸气管路直径推荐选择Ф8、Ф10和Ф12mm，其中Ф8mm对应200-300W传热，Ф10mm对应300-500W传热，Ф12mm对应500-800W传热，若散热器有2个冷凝器且散热需求功耗在500W及以上时，推荐蒸气管路设计2根，管路直径优选10mm，次选9mm。
O2.8.3.4：蒸气管路模型在蒸发器一端插进蒸发器壳体模型，穿过蒸发器中的冷凝区域模型直接与蒸器腔接触（图16）。
 
	蒸气管路建模需直接与蒸气腔接触
O2.8.3.5：蒸气管路导热系数赋值根据长短会有不同，管路温差控制在2℃以内，初始导热系数设置K=300000 W/m·K，通过调整导热系数控制管路温差。
O2.8.3.6：液体管路不用对管壁建模，且不赋值导热系数。
O2.8.3.7：当实际散热器的回液管路需要折弯时，推荐折弯半径为2倍的管路直径，因空间限制折弯半径可适当调小，但不得小于1.5倍的管路直径。
O2.8.3.8：纯铝散热器的回液管路直径为Ф6mm；铜散热器的回液管路，当功耗在300W以下时，回液管直径为Ф5mm，300W以上功耗时，回液管直径为Ф6mm。
LHP仿真建模指导
 环路热管（Loop Heat Pipe，LHP）的结构组成和工作原理如下图所示：
 
	LHP散热器结构图
O2.9.1：LHP的组成包括蒸发器、蒸气管路、冷凝器和液体管路，在FT建模时，将蒸气管路设置为高导热系数，实现热量从蒸发器向冷凝器的传输，液体管路设置为低导热系数/或不附加导热系数，液体管路在系统仿真过程中主要考虑其流阻影响。LHP散热器建模时，建模结构可以按照如下图所示进行：
 
	LHP模型结构图
O2.9.2：下图所示为LHP的建模示意图，蒸发器的结构尺寸按照如下确定：
（1）vapor chamber1的长宽尺寸由芯片的安装大小尺寸确定。
（2）vapor chamber2的长宽尺寸小于vapor chamber1的尺寸，vapor chamber2与vapor chamber1的在长宽方向上单边尺寸之差取决于安装螺钉尺寸大小。
（3）compensation chamber与vapor chamber2在长宽方向上单边尺寸差推荐取5mm。
（4）在高度方向上，vapor chamber1的高度推荐取值3mm，vapor chamber2的高度取值9mm，compensation chamber的高度取值13mm。
（5）vapor pipe的管路走管方式由实际系统的布局特点进行设计，冷凝器的外形结构尺寸根据能够使用的散热面积进行确定。
 
	 LHP建模示意图
O2.9.3: 蒸发器各块体导热系数赋值不同，根据如下要求确定：
（1）Compensation chamber不参与换热过程，给定一低导热系数，如K=0.5W/m·K。
（2）vapor chamber1和vapor chamber2参与换热，具体导热系数的赋值需要结合芯片的功耗和热流确定，下图给定了LHP在不同功耗和热流下的蒸发器热阻实测数据，根据芯片功耗和蒸发器热阻，可以计算得到蒸发器的温升。在仿真过程中，先初步给定vapor chamber1和vapor chamber2的导热系数（初始可以给定K=4000W/m·K），通过监控蒸发器基板底面中心和蒸气管路出口的温差，具体监控点位置如下图所示，图（a），结合实测值调整vapor chamber1和vapor chamber2的导热系数，满足仿真温差与实测温差一致。
    
图（a）蒸发器基板底面中心位置
 
图（b）蒸气管路出口温度
 
	 蒸发器热阻实测数据
O2.9.4：蒸气管路的导热系数设置需要满足仿真计算得到的管路沿程温差在2℃以内，初始可设置管路的导热系数为K=300000 W/m·K，蒸气管路管径设计为6mm。液体管路可以不附加导热系数，管径设计为3mm。
O2.9.5：冷凝器翅片管路一般采用穿fin方式，按照图21方式建模，通过调整冷凝器管路的导热系数满足管路平均温度与所有翅片平均的温差在2~4℃之间。初始冷凝器管路赋值建议K=100000 W/m·K。
 
	冷凝器内部管路的仿真
3D VC仿真建模指导
O 2.10.1：3DVC(3-Dimensional Vaper Chamber)散热器结构如下图所示：
     
	3DVC散热器结构图
O2.10.2：3DVC即采用VC和热管相结合的方式，热管底部开孔并深入VC腔体中。VC与热管内部毛细结构相互连通，同时两者的蒸汽腔也相互连通。因此其中的VC部分建模采用分层建模方法，同时分别设置wall, wick和vapor的导热系数，其中wick部分只需建立对热阻影响大的蒸发侧wick模型，参考R2.6.3VC详细建模方式部分。热管部分建模也采用分层建模方法，分为外壳层和蒸汽层，分别设置外壳和蒸汽的导热系数，其中外壳导热系数设置为385W/m.K，调整蒸汽腔导热系数实现热管根部与顶部温差小于2℃。
O2.10.3: VC与热管的连接处建模方式如下图所示， VC与热管的蒸汽腔连通。
 
	3DVC连接处模型模型
适用范围：3DVC散热器建模
RBC齿片仿真建模指导
本仿真建模仅涉及RBC齿片建模，其余部分如基板、仿生盖板、护齿等和现有自散热模块建模方式相同，RBC (Roll bonding cooler )散热器结构如下图所示：

 
	RBC散热器图示

O 2.11.1: RBC 齿片管路尺寸建模
齿片建模分为三部分：齿片基体、管路建模、管网建模、嵌齿凸台建模， RBC管路建模
（1）RBC管路为单面胀， RBC齿片基体厚度为1.2mm，管路宽度为6mm，管路厚度为2.3mm
（2）RBC管路为双面胀， RBC齿片基体厚度为0.9mm，管路宽度为4mm，管路厚度为2.3mm
（3）RBC齿根管路距离凸台顶部3mm；
（4）RBC齿片基体嵌入凸台高度4mm；
（5）RBC齿片基体根部距离压铸或型材基板需要依据螺钉避位高度进行调整，如未给出时，RBC齿片基体根部距离压铸或型材基板参考值为5.2mm，
 
	RBC管路建模

O 2.11.2: RBC 齿片管网建模
目前管路如下图示建模方法如下，红色框为齿片轮廓，如图26所示，
（1）管路根部与齿根凸台距离（编号1）为3mm
（2）管路沿重力方向的上部和底部与齿片轮廓边缘距离（编号2）为10mm
（3）管路与齿顶轮廓边缘距离（编号3）为5mm
（4）管路尺寸参考O 2.11.1 
（5）沿重力高度方向，相邻管路之间的gap(编号4)为15~20mm
（5）沿水平方向，相邻管路之间的gap(编号5)为8~10mm

 
	RBC管网建模

O 2.11.3: RBC 导热系数和热阻赋值
（1）因为RBC齿片和基板的嵌齿凸台之间通过过盈配合组装，因此需要在齿片surface附接触热阻：Rsuf-solid=0.0002K "m" ^2/W。
（2）沿重力方向，依据RBC在产品应用时热源分布分为如图27中的5个场景，其中高温区域特制沿重力方向温度最高区域，例如TRX板中ASIC芯片局部区域。因此在建模时，对于气相区、两相区、液相区进行分段建模，并赋予不用的导热系数：
管路导热系数赋值参考：气相区：3000W/mk；两相区：1000W/mk 液相区：500W/mk
 
	RBC齿片中管路分段赋值
（3）特殊布局：
当在齿片顶部分布有高温区域时，顶部管路需沿水平方向距离齿片根部30mm以上，参考图28，导热系数赋值参考：气相区：3000W/mk；两相区：1000W/mk 液相区：500W/mk

 
	RBC齿片中特殊场景下分段设计
备注：
液体区域和其他区域温差不作为参考标准。
气相区：通过调节气相区导热系数保证温差在1℃以内；
两相区和气相区之间的温差通过调节气相区和两相区导热系数保证两相区以上温差在3℃以内。

适用范围：RBC散热器
flotherm导入PCB模型
O2.12.1:准备工作：
（1）硬件工程师提供单板原理图网表给互连工程师进行布局，网表中必须给出关键器件的位号（预布局阶段可以是临时位号，详细布局阶段必须是准确位号）、器件准确的封装尺寸（长宽高，特别是高度）；注意：个别器件在公司器件库中的高度信息可能有误，需要手动更改。
（2）互连根据网表进行布局，输出XX单板的*.brd、*.emn和*.emp格式文件给热设计工程师。
（3）硬件提供《XX单板热设计任务书》给热设计工程师。
O2.12.2:导入方法：
（1）启动EDA模块并打开导入菜单：打开Flotherm主界面，点击左侧EDA模块按钮（红框所选位置）打开EDA界面，依次选中单击File→Import…→Import IDF… Ctrl+I菜单条。
                   
（2) 导入互连文件：在弹出的Select Board File对话框中，文件路径选择到存放brd/emn/emp文件的目录下，依次选择emn、emp格式文件并点击“打开”；在接下来弹出的Library Selector…和Component Filter Options对话框中，分别点击OK和Filter，完成导入步骤。
       
    
（3）导出*.csv文件：在EDA模块主界面，File菜单下拉列表及子菜单中依次选择Export…→Export CSV… ，在弹出的Select Column Types对话框界面保持默认点击OK，在接下来的Export PDML对话框界面选择输出路径，保存*.csv文件，该文件中保存了互连提供的emn、emp文件中的关键信息。
        
（4）编辑设置热仿真参数，并导入*.csv文件完成建模：csv文件内部格式如下图，根据热设计任务的信息，设置各器件的关键参数：主要为功耗（Total Power）、热模型类型（Component Type）、高度（Z Size）、热阻（Junction To Case Resistance和Junction To Board Resistance）；设置完成后保存文件，并通过File→Import…→Import CSV Layout…导入EDA模块；通过File→Transfer菜单，将模型转移到Flotherm主界面，即完成整个PCB导入建模。
注意：Component Type为“2 Resistor”时才能设置双热阻；Reference Designator一列表示器件位号。
 
          

Flotherm导入芯片Powermap模型
芯片热仿真模型，要由微电子热设计团队统一发布并维护；模型中的有源发热区域（Powermap）的功耗即芯片热设计功耗（TDP，Thermal Design Power），该功耗值因产品应用场景不同而各异，为适应此情况，芯片热仿真模型中无源部分统一由微电子热设计团队发布，有源部分由各线交付团队热设计工程师使用统一方法，根据实际应用场景，在硬件工程师和海思接口人的配合下进行修改，功耗传递的载体即包含Powermap的csv格式文件，模板名称为《ChipPowermapInput_layout.csv》；
（1）将ChipPowermapInput_layout.csv文件模板提供给海思工程SE（或其指定的接口人员如FAE等），海思根据此模板提供热设计建模参数。如下图，绿色标识标题列的内容由海思填写提供，首行标题和其他列内容都不要改动； 
（2）使用EDA模块导入CSV文件的步骤如下图所示：
 
（3）将EDA中的模型转移到Flotherm主界面进行编辑：

 
（4）框选所有Cuboid，设置（保持）为10um厚度（确保厚度方向至少有一层网格），并附上硅的材料属性，完成Powermap导入；
备注：1、Powermap相对于单板的摆放方向是有互连要求的，具体地，请与互连工程师和硬件工程师确认一致；2、热源厚度不能打薄（打薄会影响热耗输入）
TEC仿真建模
在Flotherm中TEC建模的模型树结构如图所示，为了提高仿真精度，需尽可能将TEC内部的详细结构建出来，并保证结构参数的准确
  
	TEC结构和仿真详细模型
（1）陶瓷基板：每个TEC都包含冷面和热面两个陶瓷基板，陶瓷基板的材质为Al2O3，在建模过程中需要在陶瓷基板厚度的中心位置设置面region，以监控冷热面的热流量
  
（2）P/N节：P/N节的建模包含PN节本体，代表热效应的Source两个部分，PN节本体材料属性设置如下，由于P/N节半导体材料的导热系数与温度相关，因此不能设置为常数，需设置为温度相关类型   
（3）TEC的热效应总共有3种，帕尔帖效应、焦耳热效应以及热传导，其中热传导通过设置材料的导热系数来表征，而帕尔帖和焦耳热两种热效应需要设置对应的Source来表征。焦耳热为体热源，因此需要用体Source来表示，焦耳热的大小有焦耳定律来计算，但是由于P/N节的电阻值随温度是变化的，因此焦耳热是随着温度变化而变化的，设置如下图所示。
 
	冷面Source设置示例
帕尔帖为面效应，因此需要用面Source来表征，在P/N节冷热面两端各附一个面Source，冷面的Source中所附热源特性为负值，表示吸热，热面的Source中所附热源特性为正值，表示放热，同时由于靠近冷热面的区域温度梯度比较大，在P/N节两端设置region，对该区域的网格进行加密。
 
 
	热面Source设置示例
Flotherm瞬态仿真
O2.15.1 瞬态仿真时间设置
在Model setup的选项配置中，勾选Transient Solution可以进行瞬态仿真的计算。点击”Click To Edit”, 详细的选项配置如下图所示。
 
	总仿真时间
Total Transient Time是仿真计算的总时间。Period Time是求解器的运行时间段。两者之间的关系如下图所示。Period Time必须小于Total Transient Time，此时，求解器先执行第一个Period Time计算,计算停止时，用户可以查询当前Period Time的结果。重新点击Solve, 则求解器会执行第二个Period Time的计算，并且会采用上一个Period Time的最终时刻的解作为下一个Period Time的计算初值。

 
	Time Patches和时间步长
Monitor Point的值是每个时间步长终点的解。每一时刻的时间步长由下图中的的block所示。
 
时间步长的添加是通过Time Patches实现。一个Time Patch包含一个或者多个时间步长。
 
在一个time patch的时间步长分布中，有四个分布类型可以选择，如下图所示，分别为Uniform distribution（0~1s），Increasing Power distribution（1~2s），Decreasing Power distribution（2~3s）以及Symmetrical Power distribution（3~4s）。其中index决定了时间步长增加或者减小的速率。通常来讲，瞬态计算的初始时刻需要更小的时间步长，随着计算时间的推移，时间步长逐渐增加。

 
时间步长的精度会影响到计算结果以及计算时间，因而合理的选取时间步长，保证计算精度的同时降低计算时间，需要用户的经验。

	Save Time
瞬态仿真的数据保存设置在”Save Time”选项下实现。如下图所示，则为每4个时间步长保存一个时间点的数据。
  

O2.14.2 Transient Atrribute
在瞬态仿真计算中，每种材料的属性里面，除了导热系数之外，材料的密度和比热容均需要单独设置。用户可以设置随时间变化的Thermal, Source或者Ambient 属性。这些设置好的瞬态属性在transient functions中显示，鼠标点击其中一个选项，则选中的瞬态函数会在Time Step Distribution Plot中显示。
 
	Transient variation with time
对于随时间变化的transient attribute,用户可以设置funtion或者profile,如下图所示。
 
	Profile: 点击”Click To Edit”,则可以通过添加数据点的方式定义瞬态变化曲线。数据曲线也可以通过”Import CSV File”导入。
 
	Function: 点击”Click To Edit”,则可以通过添加sun-function的方式定义瞬态变化曲线。Sub-Function的类型包含Linear, Power Law, Exponential, Sinusoidal, Gaussian, Pulse, Double Exponential七种函数类型。
 
当多个sub-function定义在相同的时间段内的时候，这几个sub-function通过相加或者相乘的方式叠加计算。
两个sub-function相加
 
两个sub-function相乘
 
周期函数： 当激活Periodic时,函数会在T_start 和T_end的间段内重复。
各个子函数的定义如下：
	Linear sub-function: 
  
	Power Law sub-function: 
 
	Exponential sub-function: 
 
	Sinusoidal sub-function: 
 
 
	Gaussian sub-function: 
 
 
	Pulse sub-function: 
Amplitude — the maximum multiplier value.
Rise Time — the duration of the rising part of the pulse
High Time — the duration of the flat (top) part of the pulse
Fall Time — the duration of the falling part of the pulse
	Double Exponential sub-function: 
 
	Transient variation with Temperature
Thermal attribute允许随温度变化的变量输入，如下图所示。输入方式为基于数据点的profile方式。激活”Enable Hysteresis”, 可以实现滞后回线的输入。
 

O2.15.3 瞬态仿真求解
	瞬态Residuals和Monitor Points图
Profiles > Create Plot > Residual Iterations v Time可以得到Residual Iterations vs time的图。Profiles > Create Plot > Residuals v Time则得到Residuals vs time的残差图
瞬态仿真中，每一个时间步长都需要收敛。如果某一个时间步长不收敛，则误差会传递到下一个时间步长，甚至会被放大。下图所示为一个典型的收敛的residual结果。
 
Profiles > Create Plot > Monitor Points v Time则可以得到监控点随时间变化的画图。
 
	初值设置
瞬态仿真需要设置初值。初值的设置在Solver Control 下的Initial Variables中。
通常来讲，瞬态仿真的求解时间较长，预先求解一个稳态仿真得到稳态的解，再利用稳态仿真的解作为初值进行瞬态仿真是一个很好的方法。步骤如下：
	将功耗，环境温度，流量等信息设置为零时刻的值；
	保存并且命名该算例，例如”CPU_1620_SS_test”. 将算例设置为稳态求解并且进行计算求解；
	重新命名该算例并保存，例如” CPU_1620_DS_test”,将算例设置为Transient Solution,并对计算时间等相应选项进行设置；
	在Initial Variables中选择	“Selected Solution Set”, 点击Select选择前面保存的稳态算例结果”CPU_1620_SS_test”。则该瞬态计算则以”CPU_1620_SS_test”的稳态解作为计算初值进行求解。
 

O2.15.4 瞬态仿真结果
	求解完成之后，点击Visual Editor.在“Results”中选择Transient里不同的时刻可查看结果云图,如下图所示。
 

	不同时刻的Monitor Point的值可以从Table-Monitor 选择。如下图所示。

 
O2.15.5 瞬态BCI-ROM模型
导出BCI-ROM模型需要2019.1以及之后的Flotherm版本，BCI-ROM主要目的是导出Boundary Condition Independent 的Reduced Order的compact动态热模型，实现快速瞬态仿真。
	动态模型要求
	需要导出ROM的热模型必须是纯导热模型，在Model Setup中需要选择“Conduction Only”，同时原模型也要相应的简化成纯导热模型。
	线性模型：不支持随温度变化的材料属性，辐射换热等。
	热源要求： 模型中需至少包含一个“Source”类型的热源。多热源情况下，则其余的热源类型无要求，可以在Thermal Attribute中实现，也可以在Source中实现。另外，热源最好设置成体热源，不要Collapse.
 
	至少包含一个非零的对流换热系数。由于纯导热模型的要求，模型中无流体流动。对流换热则需要通过对流换热系数的设置实现。当整个计算域的形状规则为六面体，并且与环境的对流换热都发生在边界的时候，可以通过System-Boundaryies-Ambient设置各个面的Heat Transfer Coefficient。如果计算域不规则，并且不同的环境边界需要设置不同的对流换热系数的时候，需要使用“Cutout”的模块实现。如下图所示，则为使用多个Cutout模块实现不同区域的对流换热系数的示意图。
 
	BCI-ROM模型导出
BCI-ROM的模型导出是个迭代计算的过程，计算需要的内存以及时间会随着热源数目，ambient attribute数目，HTC range，模型网格数的增加而迅速增加， 而随着toletance的减小而迅速增加。 
BCI-ROM模型的导出通过Project-Export Project-BCI-ROM来实现。里面包含两个选项，Acceptable Relative Error以及HTC Range。Tolerance与BCI-ROM的截断残差相关，描述了原模型与BCI-ROM模型的相对误差。有效范围为0.0001~0.01. 默认值为0.001.HTC定义了模型的HTC适用范围。如图中所示，如果HTC定义在1~10000之间，则BCI-ROM模型只适用于该范围之内。Tolerance设置越小，HTC范围设置越大，则计算资源消耗越大，用户需要合理设置。关于其具体对结果的影响，可参考文档： “Simcenter Flotherm™ BCI-ROM Validation，Software Version 2019.1，June 2019”.
模型导出之后为 .zip格式的压缩文件，内涵.mtx以及.m格式的文件。
 

	BCI-ROM模型使用
导出的模型可在Matlab或者开源软件Octave中使用，使用案例可参考Flotherm提供的算例代码。

ICEPACK仿真工具使用规范化要求
	规范化分析流程图
 
	ICEPACK使用规范化流程图
规范化分析各子流程主要内容
R3.1.1 各个规范化分析子流程的主要内容如下表所示
各个规范化分析步骤主要内容
序号	规范化分析步骤	主要内容
1	明确分析目的，确定分析方法和总的求解域	明确分析目的，分析模型所处散热条件，判断冷却方式，确定模型采用的散热方式（自然散热、强迫冷却、混合冷却）和求解域
2	建立仿真模型，设置观察点或区域	1、利用ICEPACK自建模工具、现有模型或导入CAD模型，建立和实际求解要求相类似的求解模型
2、赋予模型各部件相应的热物性参数
3、按照分析目的设置观察点和观察区域。
3	网格划分，设置边界条件和求解参数，检查模型，再进行求解	1、根据建立的几何模型、使用六面体网格、多级网格、局部加密，划分高质量的贴体网格（需检查网格的质量和保型性）
2、设置和实际情况相同的边界条件，包括：进口风量、风扇P-Q曲线、Wall边界条件、计算域对称、周期性边界条件、各器件热耗、环境温度、流态、辐射设置等；
3、计算之前，用Check model、Case Check、Summary（HTML）等工具检查求解设置的正确性
4	收敛判断	求解结束后，根据残差曲线和观察点监控曲线判断计算是否收敛。当计算不收敛时，分析不收敛的原因，运用合理的收敛策略使计算收敛，得到合理的计算结果。
5	后处理和散热优化设计	1、对计算结果进行深入分析，根据分析目的得到需要的温度场分布、关键器件温度、流场分布、流阻、温升、动画、报告等。
2、根据计算结果，进行各种参数优化，得到最优设计方案
6	回归误差分析	根据功耗的实测结果，对模型进行回归仿真，量化分析误差原因，找出模型的改进点。
7	模型整理和归档	根据模型库操作要求对模型进行整理和归档，完善标准模型库。
适用范围:	系统级、单板级等所有热分析流程
 
ICEPACK模型命名规范要求
为便于模型归档及模型共享，建模时，对模型进行规范化命名。
R3.2.1 ICEPACK命名规范要求如下表所示。
ICEPACK命名规范
模型级别	适用范围	规范要求	补充说明
系统组件	设计文档	1.所有字母小写	没有字数限制
		2.Project Name包含产品名和方案版本
产品名和产品开发的名称一致
例如：E_12M dual_camera_stead._VN1_20151212
 	 
	模型库	1.Name仅为产品名
例如：E_project	 
		2.其它要求同上	
部件	设计文档
模型库	1.ICEPACK部件统一使用英文命名	
		2.所有字母小写；缩写全部大写	例如：heatsink-1，CPU-1，TP，LCD
		3.包含多个单词时，中间用“-”连接	例如：clip-board-1
		4.多个相同部件时，添加数字后缀，“-n”	n为自然数，以1递增
部件组件	设计文档
模型库	1.散热器	ⅰPlate Fin散热器（包含Cut Out Fin）
_类别_迎风尺寸_顺流尺寸_高度_编码	例如：_DC_61_57.9_11.4_21160262
			ⅱPin Fin散热器
_类别_|_长度_宽度_高度_编码	“|”是“shift+\”
			ⅲ新设计的散热器
HS-describle	Describle:描述散热器的形式与重点参数
			类别：DC/IC/TO
翅片形式：Plate Fin/Pin Fin/Cut-out Fin/Special Fin
		2.风扇	ⅰ类别+边长（长/宽）_厚度_电压+最大静压+最大流量+编码	例如：
A172/150_51_48V154P240C32030008
A120_38_48V187P181C32030057
			ⅱ新选风扇
fan- describle	Describle:描述风扇的性能及其他重点参数
			类别：轴流风扇－A
离心风扇－C
		3.芯片	编码_厂家型号	例如：
35030330_EP2C8F256C8
			增加描述信息必须填写，包含以下方面内容：厂家/封装形式/商业级温度要求/工业级温度要求/结温要求/热阻信息
		4.其它组件	1.所有字母小写
2.缩略术语全部大写
3.按照常用字典和华为词汇库统一使用英文命名
4.多个相同组件时，添加数字后缀，“-n”，n为自然数，以1递增	 
适用范围:	系统、单板、部件、组件的设计文档和模型库

 
求解域设置规范
明确分析目的，确定仿真分析为强迫对流、自然对流，数值风洞等目的。仿真分析中，需要根据模型的尺寸及仿真目的，确定规范化的求解域。
R3.3.1:求解域需要真实反馈散热的条件，获取准确的求解结果
   仿真分析求解域要求
类   别	规范化要求	应   用	备   注
强迫对流求解域	总体求解域大于模型实体大小，进出风口方向，求解域放大的距离为相应方向上模型实体尺寸的15％～30％	1、强迫对流冷却的产品	若要分析实体区域外的热流参数，可扩大求解域
自然对流求解域	模型上方求解域尺寸至少为模型实体最大尺寸的2倍。模型侧面求解域尺寸至少为对应方向上模型实体最大尺寸的1倍。模型下方求解域尺寸至少为模型实体最大尺寸的0.5倍。	1、自然散热的产品；
2、自然散热和强迫风冷混合散热产品；	可以适当增加重力方向的计算域尺寸，以便减小重力方向对自然对流的影响
数值风道求解域	模型前方风道尺寸至少为模型实体尺寸的1倍。模型后方风道尺寸至少为模型实体尺寸的1倍。	1、用于散热器、刀片流动阻力的仿真；
2、用于风洞试验的仿真；
3、用于阻尼特性研究	对于平面阻力单元，风洞长度可减小为当量直接的1～2倍
使用范围：系统级、单板级等所有热分析求解域设置
建模子流程规范
建模子流程规范总要求
ICEPACK建模子流程规范总要求
R3.4.1.1 ICEPACK建模参照实体结构，整体要遵循由外到内，由大到小建模；
R3.4.1.2 模型组件，空间上不能存在干涉；
R3.4.1.3 模型结构按系统、子系统、组件、分组件、部件分级；
R3.4.1.4 任何一个功能模块均可直接拆解；
R3.4.1.5 若某个模块中包含风扇，风扇位于结构树的最下方；
注释：ICEPACK建模整体要遵循由外到内，由大到小的建模顺序进行建模，且组件空间上不能干涉，主要是因为ICEPACK通过组件生成局域化网格，网格局域化采用嵌套规则，如下图示：
  
ICEPACK网格局域化嵌套规则
模型树优先级为结构树中较下位置的Blocks覆盖较上位置的Blocks；风扇总是覆盖压缩阻尼；非压缩的立方块和棱柱总是覆盖风扇和阻尼；结构树中风扇和阻尼位于压缩立方块之下时，风扇和阻尼覆盖掉压缩立方块；Cutout边界上Fixed Flow覆盖掉free boundaries。
适用范围：ICEPACK所有建模子流程
建模子流程图
R3.4.2.1  按照分级（ZI）方法构造产品模型。每一功能部件均是可以独立拆分出来的。建模过程中，调用模型库和数据库中已有模型和数据。模型库和数据库中无对应的模型和数据时，使用ICEPACK基本组件创建模型或从结构文件中导入模型。建模过程的规范化流程图如下所示。
 
 建模子流程规范
适用范围:  系统级、单板级等所有热分析建模子流程
建模子流程模型结构规范
	手机模型结构要求
手机模型层次如图所示：
R3.4.3.1 手机以下模型空间上互不干涉，各组件互相独立，平行建模。
          
手机产品模型结构树
适用范围:	手机产品散热仿真分析
	智真产品结构要求
智真产品模型层次如图所示：
R3.4.3.2 智真产品，各个组件间互相嵌套，空间上不存在干涉
 
智真产品模型结构树
 
ICEPACK基本组件建模使用规范要求
R3.4.4.1 ICEPACK基本组件使用规范如下表
ICEPACK基本组件使用规范
基本组件	适用条件	设置项	规范要求	说明
Cabinet	 
总计算域	Geometry	1.计算域的最小尺寸至少为模型尺寸的5倍，且模型位于cabinet的中心位置；
2.不允许模型的任何部件存在于cabinet的边界；	如果模型超出cabinet边界，软件会提醒调整大小，需要及时调整cabinet的大小，并满足规范要求
		Properties	1.内部充满默认的流体材料，根据模型要求，设置准确的流体材料，为空气或液体等；
2.设置准确的计算域边界条件	Default：绝热边界，且边界速度为0；
Wall：壳体，用于表示计算域外界与内部热模型的换热过程；
Opening：开口，流体流入或流出，同时随有能量、质量的传递；
Grille：散热孔（百叶窗），流体可以流入或流出，同时随有能量、质量的传递，但流体会受到相应的阻力
Heat Exchanger	 
用一个简化面来替代真实的三维换热器，模拟cabinet计算域内的空气流动与外部流体的换热过程	Geometry	1.Sharp：定义换热器的形状，需准确定义换热器的外形形状；
2.Location：定义换热器的尺寸，需要准确定义换热器的尺寸及位置	
		Properties	包含流经换热器的空气阻力系数以及相应的换热量	Pressure loss： 
k:阻力系数；v：流经换热器的空气流速
Thermal specification：
 

Opening	 
用于模拟机箱系统的进出口或模拟液冷的进出口边界	Geometry	1、设置准确的开口形状及位置信息
2、根据仿真模型实际，赋予准确的边界，自由开口（Free）或循环开口（Recirc）；
3、必须贴在cabinet或hollow block等计算域边界上	
		Properties	1、设置准确的开口的热边界条件，包括不同区域的温度值，稳态还是非稳态；
2、如果设定压力边界，需设定准确的压力边界；
3、开口边界可以输入分区域的压力、速度、流量、换热系数或热流密度等	1、开口边界条件，压力与速度只能输入一项；
2、同一个自由开口面，不同区域的的温度数值不同，可以通过Profile编辑区域中心点的温度值进行区分；
 
Periodic Boundary	 
用于定义周期性边界条件，用于两平行边界面	Geometry	1、设置准确的边界条件的几何尺寸及相对位置
2、只能定义两个平行边界为周期性边界；	如果模型存在周期性边界性质，利用周期性边界可以减少模型尺寸
Grille	 
1、用于模拟2D阻尼，百叶窗或较薄的散热通风孔，滤网；
2、构建二维物体的阻力系数或阻力曲线	Geometry	准确的几何尺寸、阻尼平面和位置参数	
		Properties	1、输入阻力系数时，需要同时输入准确的开孔率和开孔类型，Perforated thin vent（方孔）/Circular metal wire screen（圆形孔）/Two-plane screen with cylindrical bars（双平面筛孔），计算准确的阻力系数；
2、如有测试数据，拟合准确的阻尼系数；
3、弧面曲线的2D阻尼，采用CAD模型导入；
4、该种散热孔，不考虑辐射，如果开孔平面需要考虑辐射或要获取开孔处的温度，不能使用该种模型，需要通过实体（Block）开孔建模	如果散热孔为曲面边界，可以通过CAD导入
Solid Block	 
立方体
 
圆柱
 
多边形
 
球体
 
凸台
 
椭圆
CAD模型，根据导入模型进行设置	Info	1、Name：该部件名称，如果要显示必须勾选 active
2、Priority：建议选择默认，可以根据优先级进行选择
3、Display options：模型的显示颜色，可以默认，也可以根据易于观看进行	块状物体的整机模型里的名称
定义该模块的显示颜色，一般热源定义为红色
		Geometry	1、Sharp：设置Block的准确形状
2、Location：设置Block的尺寸，模型与实物的几何尺寸和位置一致。
3、ECDA geometry：从外部导入PCB trans.	可以通过定义Block模型的起始位置及起点及长度定义模型的尺寸；

		Properties	1、Block type：设定与仿真模型一致的实体、中空、流体、二维热阻
2、Surface Specification：实体表面材料属性，设置准确的表面发射率
3、Radiation：Block是否参与辐射换热，如果参与即打钩，且面对所有面进行辐射换热
4、Individual sides：可以详细定义Block各个面的边界条件，包括三类边界条件、热阻、面积因子、辐射条件等，需要设置准确各个面的边界条件
5、Solid material：材料本身的材料属性，设置准确材料的导热系数、比热容、密度、表面辐射发射率系数
6、Total power：实体的热耗值，需要准确赋予实体热耗翅片表面的波纹用表面粗糙度描述	Radiation：
 
Individual sides：
 
Source	 
建立面或特殊的体热源，流体可以通过该热源	Geometry	几何尺寸和位置正确	
		Properties	1、多用于建立二维面热源；
2、该种热源，流体可通过，需要确定是否符合模型要求，如果流体不能通过的热源，采用solid block构建三维热源	流体可以通过该属性的热源
PCB	 
用于构建电路板本体	Geometry	1、准确的PCB板的尺寸和位置；
2、需要对PCB板进行详细优化时，应采用ECDA geometry，导入详细的PCB板，包括每层走线、含铜量	可以规则的或多面体的PCB
		Properties
	1、根据模型需要选择compact/detailed/Hollow/ECDA的PCB模型；
2、.radiation，根据PCB板的上下面的材料的表面性能进行定义，一般选择FR4材料的辐射发射率	整机仿真时，一般选择采用compact模型简化模型
 
Enclosures	 
用于构造腔体模型	Geometry	准确几乎尺寸和位置	
		Properties	1、定义腔体的表面特性，如果不同表面的特性不同，需要分别进行定义；
2、定义准确的腔体材质；
3、根据模型要求，定义准确的腔体厚度，该厚度在模型中不体现，可以减少模型网格数量；
4、定义每个面的热耗分布	 
Plate	 
用于构建薄壳板、导流板、设置接触热阻	Geometry	准确几乎尺寸和位置	
		Properties	1、该模型针对对厚度对散热不影响的模型采用，如导热硅脂、导流薄壁、石墨片	 
Wall	 
用于模拟机箱、方舱等系统的外壳	Geometry	准确几乎尺寸和位置	
		Properties	1、只能用于放置在计算域的边界，即只能在cabinet或hollow的边界上；
2、根据实际热边界条件进行赋予，该边界条件可以是固定边界、流动边界或对称边界	壳体内部表面与计算域内的流体相接触，外部的面需要输入与外界环境的换热边界，定热流密度/恒温/定对流换热系数
 
Fan	 
1.构建二维或三维轴流风机
2.构造PQ特征实体
3.自由空间定风量分析	Geometry	准确几乎尺寸和位置	
		Properties	1.Intake和Exhaust需放置在cabinet或hollow的外界
2.Internal必须放置在计算域内部；
3.固定风量 Fixed仅适用Intake和Exhaust风机
4.如果风扇失效，则需要输入风机本身的开孔率或阻力曲线，模拟风机失效后，对系统阻力影响	 
风机失效，需要设置风机的阻力曲线
Blower	 
1.构造离心风机的简化模型
2.构造离心风机的PQ特征实体
	Geometry	准确几乎尺寸和位置	
		Properties	1.设置风机准确的P-Q曲线；
2.设置准确的风机的叶片角度及转速	
Resistance	 
1.构造三维阻尼模型，
2.模拟简化的单板或器件，简化模型
3.构建三维物体的阻力系数或阻力曲线	Geometry	准确几乎尺寸和位置	
		Properties	1、压力损失系数，可以输入阻力系数或阻力曲线，输入阻力系数时，一般通过来流速度拟合阻力曲线；
2、根据实测或ICEPACK的竖直风道计算获得阻尼准确的阻力曲线；
3、该种三维阻力模型，不考虑辐射，如果开孔物体需要考虑辐射或要获取开孔处的温度，不能使用该种模型，需要通过实体（Block）开孔建模	该三维阻尼模型，可以定义阻尼的热耗
Heatsink	 
构造简单、详细或倾斜的散热器模型	Geometry	准确几乎尺寸和位置	
		Properties	1.翅片或翅片间至少2个网格；
2.如果需要优化散热器，需要手动建模，不能直接导入结构化散热器模型；
3.用于大型系统仿真，采用简化散热模型简化计算量	
Package	 
构建DIP/SOP/SOIC/SOJ/QFP/TQFP/QFN/LCC/BGA/TBGA/PoP等封装的芯片	Dimensions	1.芯片准确的封装类型；
2.芯片准确的外部封装尺寸；
3.芯片的封装类型（Model type包含CCM（简化封装）、Detailed package（详细封装）；
4.用于系统仿真分析时采用CCM，若需要详细分析芯片的内部散热结构，需要采用详细封装	
		Substrate	1.输入准确的芯片基板的封装信息，包含基板的材料及每层的含铜量；
2.基板的材料选择FR-4材料；
3.如果需要获取芯片详细的布线信息，需要通过EDA软件导热单板布线信息	 
		Solder	1.输入准确的焊球信息，包含位置、数量及尺寸；
2.输入准确的焊球材料	
		Die/Mold	1.输入准确的芯片结尺寸、位置及热耗信息；
2.输入准确的芯片管壳信息	
适用范围：ICEPACK的仿真建模
	 
非结构化模型导入使用规范要求
非结构化导入即是异型CAD模型的导入，对散热影响明显的异形结构，需要通过非结构化导入进行建模，如系统异形外壳、手机异形中框等。

	非结构化模型导入的规范要求：
R3.4.5.1 CAD的几何模型必须“干净”，即删除螺丝、螺母、小特征导角等不影响散热的几何特征
R3.4.5.2 对规则的几何体，最好通过切割命令，将模型分割成ICEPACK认可的多个几何体；
R3.4.5.3 对异形几何体，在Workbench平台Geometry的electronics工具下对进行level3 转化，转化为ICEPACK认可的几何体。
解释：Geometry electronics 可以对模型进行3种层次的简化
Level1：保持模型沿某一个方向的真实几何形式，其他方向保留模型的矩形轮廓线；
Level2：保持模型沿某两个方向的真实几何形式，其他方向保留模型的矩形轮廓线；
Level3：保持模型三维真实几何形式，该方式可以最大程度地保持模型原有的形状
由于，非结构化导入模型的目的为最大程度地保持模型原有的外形尺寸及轮廓，所以，进行level3的转化。

	非结构化导入的流程规范
R3.4.5.4 非结构化导入的模型采用以下流程进行导入建模

 
非结构化导入的流程规范图
适用范围：适用范围:	系统、单板、部件、组件的非结构化导入过程
网格划分规范
网格划分方法 
优质的网格可以保证仿真计算的精度，ICEPACK提供非结构化网格、结构化网格、Mesh-HD网格（六面体占优）三种网格类型；同时提供非连续网格、Mesher-HD专属的多级网格处理方式，三种网格均可以进行局部加密。应根据模型实际情况，选择合适的网格类型，对模型进行混合网格划分（非连续化、局部化、多级化）。
R3.5.1.1 设置背景网格控制面板的Max X、Y、Z网格尺寸为为计算域Cabinet的1/20；对于自然对流，可以将X、Y、Z三个方向的尺寸减小为计算域Cabinet的1/40
R3.5.1.2 对于ICEPACK自建的几何体，使用非结构化网格，也可以使用Mesher-HD网格，但不要对这些几何体使用Multi-level多级网格划分
R3.5.1.3 对于非结构化导入的几何体，必须使用Mesher-HD类型的非连续网格，同时进行Multi-level多级网格处理
R3.5.1.4 建立Mesher-HD类型的非连续网格时，须勾选Enforce 3D cut cell meshing for all object、Set uniform mesh params和Enable 2D multi-level meshing三项，不要勾选Allow stair-stepped meshing
R3.5.1.5 进行Multi-level多级网格处理时，需勾选Proximity size function、Curvature size function选项，以保证对弧形、曲面的贴体性；同时设置Max levels (一般不要超过4)、buffer layer（一般不要超过2），以保证网格的加密与合理过渡
R3.5.1.6 对于高密度翅片的散热器模型，一方面建议将其转化成ICEPACK自建的几何体，确保散热器形状不变；另一方面需使用非结构化网格对其进行网格处理
R3.5.1.7 第一次计算时，可设置Global settings/Mesh parameters中选择Coarse
R3.5.1.8 为了保证模型的网格的平稳过渡，应设置多层局域化网格，由粗到细分别为：背景网格-Assembly.1-Box-单板级，使网格进行平稳的过渡
网格划分标准
R3.5.2.1 流体通道Gap、翅片间隙至少布置2个网格，散热器沿流方向网格的最大尺寸小于散热器沿流长度的1/20，基板厚度方向至少布置3个网格，可使用网格控制面板中的Local进行加密
R3.5.2.2 对于PCB板几何体，需要在PCB的厚度方向布置3个以上网格
R3.5.2.3 对于发热器件，需要在各个边设置至少3个网格
R3.5.2.4 使用面/边/点对齐、中心对齐、面/边匹配工具，去除所有模型对象之间的小间隙，以减少由于小间隙导致的大量网格数
R3.5.2.5 Fan与局部网格间一般2倍的过渡；
R3.5.2.6 系统关键部位（温度、速度、压力变化大的区域）网格有明显细化和过渡
R3.5.2.7 对于Openings/Grilles/fan（环面）每个边至少设置4-6个网格（可通过Local，局部加密实现）
网格质量检查及标准
R3.5.3.1 划分完网格后，须使用Display面板，检查不同模型的面网格、体网格，确保网格的贴体性
R3.5.3.2 检查网格控制面板的Quality，确保各个判断标准满足推荐的数值：
1）面对齐 face alignment ：最重要的判断标准，建议大于0.1，如果小于0.15表示存在严重变形的单元，可能导致发散
2）体积 Volume：使用单精度计算，建议>1.0E-12；使用双精度计算，建议>1.0E-15
3）质量 quality：最小对角线与最大对角线之比，用来衡量单元的扭曲程度，要求最好大于0.01；
4）skewness：衡量单元接近等边体的程度；要求能够大于0.25
R3.5.3.3 对于模型有互相重叠的区域，须检查网格的优先级，确保网格划分正确。
求解设置规范 
自然对流求解设置规范
R3.6.1.1 求解域边界设置为开口边界
R3.6.1.2 求解域边界尺寸必须足够大保证求解边界不影响自然散热的求解结果，求解域的大小尺寸与模型的尺寸关系如下。
 
求解域边界尺寸设置示意图
R3.6.1.3 求解方法采用双精度求解器
R3.6.1.4 根据Ra（瑞利数）选择流态的类型
    当Ra＞RaC时，流态为湍流
    当Ra＜RaC时，流态为层流
R3.6.1.5 计算时必须选择流动方程和能量方程
R3.6.1.6 计算时必须选择辐射换热方程和重力
R3.6.1.7 初始化时，应该选择小的流速（低于1e-3m/s）
R3.6.1.8  松弛因子设置（压力因子）Pressure=0.7&（动量因子）Momentum=0.3
强迫对流求解设置规范
当对ICEPACK的热模型划分了高质量的网格后，接下来需要对模型进行物理问题的定义、各种边界条件、求解参数的设置，开始进行求解计算。
下面为强迫对流的求解设置要求。
1、Project下的Problem Setup下的Basic parameters面板为主要设置选项
 
该设置选项包含General setup、Defaults、Transient setup和Advanced 4个设置面板。
 
1）General setup面板的设置规范
R3.6.2.1  Variables solved表示需要求解的变量，一般情况下Flow、Temperature同时勾选，求解计算热模型的流动和温度（求解N-S方程中的动量守恒方程和能量方程）
R3.6.2.2 Radiation辐射开关要求，如果强迫对流仿真模型除了关注器件温度，还关注外壳的温升，此时建议打开Radiation开关，加入辐射计算。对于这种强迫对流和自然对流并存的模型，建议选用DO辐射模型进行计算，在DO模型的设置中把Flow iterations per radiation iteration 参数设成20左右，表示强迫对流迭代20步后进行一次辐射迭代。如果不关注外壳温升，辐射可以选择关闭
R3.6.2.3 Flow regime表示热模型流体的流态，一般选择Turbulent湍流模型。
解释：ICEPACK中提供了多种湍流模型，通常情况下Zero equation可适用于大多数电子散热的工况；对于高密度齿片的散热器来说，使用Spalart-Allmaras可以更好地模拟齿片边界层的流动；Two equation主要用于高速冲击、射流的计算工况，我们基本上不涉及。如果是要利用ICEPACK进行微通道散热模拟，请选择Laminar层流模型，并对微通道内流体的黏度做适当修正，才能保证计算的精度。
R3.6.2.4 Natural convection如果勾选了Radiation，需要设置重力方向。
2）Defaults面板规范
R3.6.2.5 Ambient conditions设置求解域的环境边界条件，包括流体温度、压力（相对压力）、辐射温度；
R3.6.2.6 Default fluid设置模型默认流体、固体、表面材料（发射率）的材料信息
3）Transient setup面板规范
该面板用于选择分析过程为稳态或非稳态过程
R3.6.2.7 稳态分析，Time variation时间变量选择Steady，Solution initialization，求解计算各个变量的初始化参数选择默认值
R3.6.2.8 非稳态分析，Time variation时间变量选择Transient，并设置相应的分析时间及时间步长，Solution initialization，求解计算各个变量的初始化参数设置为非稳态开始计算的初始速度及温度
4）Advanced 面板设置规范
R3.6.2.9 Natural convection表示选择不同的自然对流方程，需要选择Boussinesq approx
R3.6.2.10 Solar loading勾选表示开启太阳辐射热载荷，根据仿真需求进行设置
R3.6.2.11 Profiles：Spatial power profile file 可对一个固体区域加载一个Profile体热源，据仿真需求进行设置。
R3.6.2.12 Altitude effects：模拟不同海拔高度对电子产品散热的影响，选择Altitude，然后输入相应的海拔高度，ICEPACK会自动将默认的海平面空气的属性修改为高海拔的空气属性。选择Update fan curves表示允许ICEPACK根据海拔高度自动更新风扇本身的P-Q曲线。
2、求解计算基本设置Solution settings
 
Solution settings下包含三个设置选项Basic settings、Parallel settings、Advanced settings。
 
1） Basic settings面板设置规范
R3.6.2.13 Number of iterations表示稳态求解计算的迭代步数，缺省为100，一般要加大至1000；
R3.6.2.14 Iterations/timestep当求解类型为瞬态是可选，表示每个时间不长的迭代步数，默认为20步，通常可修改增大此数值，以保证每个时间不长的求解计算收敛。
R3.6.2.15 Convergence criteria：表示求解计算的耦合残差标准，一般不用修改。
2)  Parallel setting面板要求
 
R3.6.2.16 Parallel setting并行运算：选择Parallel，在#processors中输入并行运算的CPU核数，加快求解速度，一般选择8，占有1个HPC license。
3)  Advanced 面板设置要求
R3.6.2.16 松弛因子设置（压力因子）Pressure=0.3&（动量因子）Momentum=0.7
瞬态仿真计算设置
瞬态仿真的规范化设置流程如下图所示
 
瞬态仿真标准化设置流程图
R3.6.3.1 建模时，各个部件，需要设置准确的材料物性参数，包括材料的密度、比热容和导热系数信息
 
R3.6.3.2 求解设置时，Basic parameters，需要设置准确的初始时刻的速度及温度信息。如果给定初始速度及温度，参考下表
在Basic parameters设置面板
 
 
    如果以某一个状态为初始时刻，需先获取该求解状态的求解结果，并且保存结果文件。该瞬态过程求解设置时，在Solve设置时，进行如下设置：
 
R3.6.3.3 时间步长设置，根据求解case的变量变化或时间长度要求，进行等时间步长或变时间步长设置：
	如果求解的瞬态变化量随时间的变化量为定值，设置等时间步长，时间步长的大小根据求解时间和效率要求进行划分，如求解时间为60min（如终端产品待机充电），时间步长可以为5min或10min；
	如果求解的瞬态变化量随时间的变化量为变化值，且该变量值在整个求解时间范围内时间较短，则求解时间步长需要设定为变时间步长，且瞬态变化量的时间范围内的时间步长加密设置（以评估手机闪光灯散热风险为例进行说明）：
1）获取热源的工作方式：手机闪光灯存在两个热源，一个为冷白热源，一个为暖白热源，且两个热源的工作方式如下
 
2）分析热源工作的最恶劣状态：由于闪光灯工作和camera同时工作，闪光灯工作最恶劣场景，应该是camera工作温度最高状态（camera达到稳态，再开启闪光灯），根据产品的测试结果，该时间是2400s，即从0-2400s时，只有camera工作，闪光灯不工作
3）设定热源的热耗随时间变化关系曲线：
分别对冷白光源热耗进行设置
  
4）求解时间步长设置：
 
    在0-2400s内，热源，闪光灯热耗不发生变化，及该时间段内的时间步长可以设置比较长，根据计算时间长度，时间步长可以为该计算时间段的1/10或1/20；
在2400-2450s时间段内，闪光灯开启工作，且闪光灯的热耗变化时间为0.01s，该时间段的时间步长，应该为热耗变化时间的1/2或更低，即最大的时间步长为0.005s。
R3.6.3.4 非稳态的计算时间长度应等于或小于模型中热源的变化时间长度
R3.6.3.5 在Basic settings 设置求解迭代步数，为保证每个时间步长可以收敛，每个时间步长的计算步数至少为20。设置求解步数后，再进行求解
 
 

计算收敛要求
计算结束后，如果同时满足以下三点要求，则认为求解计算是收敛的：
R3.7.1 各变量方程（连续性、动量、能量方程）的残差达到残差标准：
Flow的残差标准为0.001，能量方程残差Energy为1e-07
R3.7.2  进出口流量、热量守恒：通过Overview Report查看模型进出口流量、热量，相对误差在1%以内；监控点曲线趋于稳定：在连续的50步迭代内，监控点温度变化小于1℃，
后处理
当计算收敛后，按照下表的要求获得压力、温度、速度等值。
  后处理结果的获取方法
项目	获得方法	备注
模型任意点的温度	ICEPACK工具栏，Surface Probe，选择温度云图里任意点，即可显示该点温度	
二维热阻模型的温度值	ICEPACK工具栏，Report—Network block values	
切面速度/压力/温度分布云图	ICEPACK工具栏， Plane cut（选择切面温度）— set position（获取模型各个位置的切面）—show contours（显示云图）—Speed /Pressure/ Temperature（显示速度/压力/温度云图）	
切面速度/压力/温度矢量图	ICEPACK工具栏， Plane cut（选择切面温度）— set position（获取模型各个位置的切面）—show vectours（显示矢量图）—Speed /Pressure/ Temperature（显示速度/压力/温度矢量图）	
切面速度/压力/温度迹线图	ICEPACK工具栏， Plane cut（选择切面温度）— set position（获取模型各个位置的切面）—show particle trace（显示粒子轨迹图）—Speed /Pressure/ Temperature（显示速度/压力/温度矢量图）	
表面温度分布云图	ICEPACK工具栏， Object face（物体表面），Object可以选择模型的任意表面，软件会显示任意表面的表面温度	
等值面	ICEPACK工具栏， Isosurface（等值面），Variable（选择等值面的类型，可以是Temperature/Pressure/Speed）—Value（等值面的值）	
统计模型中各个面传导、对流、辐射的热流密度/热流流量等	ICEPACK工具栏，Report—Summary report—Objects（需要统计的物体）—Sides（该统计物体的面）—Values（Heat flux/Heat flow/Mass flow etc，根据实际需要进行选择）	可以统计模型里除二维热阻模型外的面的热流密度、热流流量等值
变量沿不同直线的变化Plot图	ICEPACK工具栏， Variation plot—Speed/Pressure/Temperature（选择要显示的参数）—Point（选择要显示的点）	
瞬态分析时，各个时刻监控点的温度、速度、压力等变化曲线	ICEPACK工具栏， History plot—Speed/Pressure/Temperature（选择要显示的参数）—add point（选择要显示的监控点）	

 模块组件建模方法
风扇组件建模
Fan 轴流风扇 
轴流风机Geometry界面
 
1、确保风扇位置正确；
2、建议选用3D风扇建模；
3、Case location from fan表示风扇进风口所处的面的位置。
轴流风机Properties界面
 
2、Fan type可选Intake鼓风机、Exhaust抽风机、Internal内部风机（风机位于系统内部）
注意：Intake和Exhaust只能放置于计算区域Cabinet和Hollow Block的边界，Intake表示从计算区域外侧向内吹风，Exhaust表示从计算区域内侧向外抽风，Internal类型的风机必须放置于计算域内部。
 
1、Swirl输入风机的转速，如果已经输入了风机某一转速下的P-Q曲线，此处转速可以不再输入。如果P-Q曲线是最大转速下的曲线，后面需要软件拟合其它转速下的P-Q曲线进行模拟，则再Swirl界面输入风机的额定转速，在Options界面的operating RPM输入实际的工作转速，ICEPACK会自动将额定转速的P-Q曲线更新为新转速的P-Q曲线。
 
1、Hub power表示风机转轴Hub的热耗，大功率吹风风扇时需要考虑；
2、选择Guard，则可以输入风机进、出风口外侧防护罩的开孔率，以模拟防护罩对系统阻力的影响。开孔率的计算方法与Grille类似。
3、选择Failed，表示茨风机失效，可用来仿真单风扇失效的情况，需要输入风机本身的开孔率或者阻力曲线。
Fan 离心风扇 
离心风机Geometry界面
 
1、确保风扇位置及类型选择正确；
离心风机Properties界面
 
1、Blower flow输入离心风扇的P-Q曲线，当风扇类型选择为Type2是，Exhaust exit angle可填入风扇出风的倾斜角度；
2、当风扇类型选择为Type1时，Swirl选项需填写，Fan blade angle表示风扇的叶片角度，RPM为风扇转速。
 电路板表面铺铜、热过孔、铜基板建模
表11给出了PCB板本体简化模型的建模方法。
电路板本体简化模型建模方法
组件	基本单元	规范化要求	备注
电路板本体建模方法1	PCB
 	PCB本体简化建模，用地层和电源层的铜体积来计算PCB体积含铜量，信号层的铜体积不包含在内。
缺省时，单层地层厚度和电源层厚度按35μm计算。表面辐射发射率0.8	FR4普通铺铜板，缺省内层铜箔厚度为1oz（35um）、
外层铜箔厚度为0.5oz（17um）；
电路板本体建模方法2	PCB
 	PCB本体详细建模，获取每层PCB板的含铜层及含铜量，详细建模。表面辐射发射率0.8	
电路板本体建模方法3	Solid block	材料特性设置为各向异形；
PCB平面方向的导热系数Kp按公式（1）计算，简化计算时可只考虑地层和电源层分项；
PCB法向方向的导热系数Kn按公式（2）计算，简化计算时可不考虑地层、电源层和信号层分项；
其余要求见Solid block的要求。	
电路板本体建模方法4	Solid block  	利用ECAD Geometry，import ECAD file，导入.anf.格式的实际PCB文件，建立PCB详细模型，该模型精细化到PCB的走线，可以对PCB板进行详细优化	
                                                             （1）
                                                             （2）
其中：L为PCB的总厚度； 为PCB各层的厚度； 为PCB各层相应方向的导热系数。
PCB板详细模型建模方法
PCB板的详细建模，是模型可以详细反映PCB的的走线及trace。该方式拥有对PCB进行详细设计。PCB板的详细建模方式步骤如下所示：
	把PCB的brd文件转换为ICEPACK可以识别的.anf文件。
该转换过程需要用到SIWAVE软件。打开SIWAVE，把Brd文件导入该软件。
 
在SWIVE软件中，把Brd文件另存为.anf文件。经验证，ICEPACK只能识别如下格式的.anf格式文件。
 
	把.anf文件导入到ICEPACK。
打开ICEPACK软件，新建PCB或Block模型，打开PCB或Block模型窗口，在Geometry—ECDA Geometry—import ECDA file—choose type，在该选项中选择，Ansoft Neutral ANF。
 
	检查ICEPACK导入的.anf格式文件
在弹出窗口Board layer and via information信息栏中，检查叠层和厚度（不能有空层）。且必须勾选model layers separately，模型才能反映PCB具体每层的走线及trace。
 
	.anf格式文件的网格划分。
为反映真实的PCB板trace及含铜量，划分的背景网格和计算网格尺寸需要为trace width的等宽尺寸或一半。
示例，对于一个长宽分别为24mm和22mm的单板（最小走线宽度trace width为3mil，即0.0762mm），则长度方向划分的背景网格数量为320，宽度划分的背景网格数量为300个。
 

电路板本体建模方法表面铺铜、热过孔、铜基板建模规范
组件	基本单元	规范化要求	备注
表面铺铜的建模方法1	Solid block
 	按照表面铺铜区域的实际大小和厚度直接在PCB上加一层Plate模型的薄的铜层；
为减少法向网格数量，必须用Plata建模；
其余要求见Solid block的要求。	表面上的铺铜厚度缺省值为1oz（35um）
表面铺铜的建模方法2	PCB
 	用与表面铺铜大小相同、与PCB本体相同的Plata来模拟表面铺铜层，以利于提高模型网格质量；
为减少法向网格数量，必须用Plata建模；	对于热流密度很大器件（如小功放管）下表面的铺铜层可采用此方法
热过孔建模方法1	Solid block
 	按照传导截面积相同的原则，把有厚度的圆孔等效为有厚度的方孔，圆孔和方孔的孔壁镀铜厚度相同。方孔边长按照公式（3）确定。
